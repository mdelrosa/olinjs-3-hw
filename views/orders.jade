extends layout

block content
  h1= title
  div(id='leftblock') Orders Placed
    div
      if (typeof orders !== 'undefined' && orders.length > 0)
        for order, i in orders
          div
            p #{order.name}'s Order:
            for ingredient, i in order.ingredients
               p ${ingredient}
               | var totalCost = 0; 
               | for (i=0;i<order.ingredients.length;i++) {totalCost += ingredient.cost}
               p Total: ${totalCost}
      else
        p No orders in the database!
    form(method="get", action="/order")
      button(type='submit') Submit an Order!
    form(method="get", action="/orders/new")
      button(type='submit') Add a new Order!

  div(id='rightblock')
    div
      if (typeof ingredients !== 'undefined' && ingredients.length > 0)
        table(border="1")
          thead
            tr
              th Ingredient
              th Cost
          tbody            
            for ingredient, i in ingredients
              tr(value=ingredient)
                td #{ingredient.name}
                td #{ingredient.cost}
      else
        p No ingredients in the database!
    form(method='get', action='/ingredient/new')
      button(type='submit') Add an Ingredient!    